
<div class="modal-body">
  <div style="font-size: 18px;">
    <b >Xử lý thông tin khách hàng</b>
    <button class="btn btn-link" style="position: absolute;right: 0px;top: -7px;" (click)="dismiss()">x</button>
  </div>
  <table class="table table-bordered" style="width:100%">
    <tbody>
      <tr>
        <td colspan="4" class="text-center text-bold">Thông tin khách hàng </td>
      </tr>
      <tr>
        <td class="text-right" style="width:15%">Khách hàng:</td>
        <td style="width:85%" colspan="3">
          <span class="text-bold">{{data?data.name:''}} ({{data?data.phone:''}})</span>
        </td>
      </tr>
      <tr>
        <td class="text-right">Địa chỉ:</td>
        <td colspan="3"><input [(ngModel)]="data.street" class="form-control"/></td>
      </tr>
      <tr>
        <td class="text-right">T/H/X:</td>
        <td>
          <input [(ngModel)]="data.state" class="form-control"/>
        </td>
        <td>
          <input [(ngModel)]="data.district" class="form-control"/>
        </td>
        <td>
          <input [(ngModel)]="data.ward" class="form-control"/>
        </td>
      </tr>
      <tr>
        <td class="text-right">Sản phẩm:</td>
        <td colspan="3"><input [(ngModel)]="data.product" name="product" class="form-control" /></td>
      </tr>
      <tr>
        <td class="text-right">Chọn loại sản phẩm:</td>
        <td colspan="3">
          <ng-select [items]="listProduct" 
          bindLabel="name" 
          [(ngModel)]="selectedProductEntity"
          (change)="onChangeProduct($event)"
          >
          </ng-select>
        </td>
      </tr>
      <tr>
        <td class="text-right">Chi phí:</td>
        <td colspan="3"><input [(ngModel)]="data.cost" name="price" type="number" class="form-control" min="0" step="1000"/></td>
      </tr>
      <tr>
        <td class="text-right">Ghi chú:</td>
        <td colspan="2"><input [(ngModel)]="data.message" name="product" class="form-control" /></td>
        <td>
          <select name="" id="" class="form-control" [(ngModel)]="data.message">
            <option value="KNM">KNM</option>
            <option value="Sai SĐT">Sai SĐT</option>
            <option value="KH Không đặt">KH Không đặt</option>
            <option value="KH yêu cầu huỷ đơn">KH yêu cầu huỷ đơn</option>
            <option value="KH y/c sỉ-SLL">KH y/c sỉ-SLL</option>
          </select>
        </td>
      </tr>
      <tr>
        <td colspan="4" class="text-center">
          <iframe [src]="link" frameborder="0" width="100%" allow="autoplay; camera; microphone"></iframe>
          <qrcode [qrdata]="data.phone" [width]="256" [errorCorrectionLevel]="'M'"></qrcode>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<div class="modal-footer">
  <button type="" class="btn btn-primary" (click)="save(-1)">Lưu thông tin</button>
  <button type="" class="btn btn-primary" (click)="save(2)">Đang xử lý</button>
  <button type="" class="btn btn-warning" (click)="save(3)">KNM L1</button>
  <button type="" class="btn btn-warning" (click)="save(4)">KNM L2</button>
  <button type="" class="btn btn-warning" (click)="save(5)">KNM L3</button>
  <button type="" class="btn btn-danger" (click)="save(6)">Thất bại</button>
  <button type="" class="btn btn-success" (click)="save(7)">Thành công</button>
  <button type="" class="btn btn-success" (click)="save(8)" [hidden]="this.info.role==='user'">Đã in đơn</button>
  <!-- &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <button type="button" class="btn btn-success" (click)="accept()"><i class="fa fa-check-circle-o mr-1"></i> {{ btnOkText }}</button>
  <button type="button" class="btn btn-danger" (click)="decline()"><i class="fa fa-times-circle "></i> {{ btnCancelText }}</button> -->
</div>